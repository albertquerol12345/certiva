# Runtime
APP_ENV=dev

# OCR providers
OCR_PROVIDER_TYPE=dummy
DEFAULT_TENANT=demo
WEB_SESSION_SECRET=change-this
WEB_SESSION_SECURE_COOKIES=1
WEB_SESSION_MAX_AGE=28800
WEB_SESSION_SAMESITE=lax
WEB_ALLOWED_ORIGIN=http://localhost:8000
AUTH_MAX_FAILS=5
AUTH_LOCK_MINUTES=15
HITL_PAGE_SIZE=20

# LLM / IA assistants
LLM_RAG_PROVIDER=dummy
LLM_RAG_MODEL=gpt-4o-mini
LLM_EXPLAIN_PROVIDER=dummy
LLM_EXPLAIN_MODEL=grok-4-fast
LLM_SUGGEST_PROVIDER=dummy
LLM_SUGGEST_MODEL=gpt-4o-mini
LLM_TIMEOUT_SECONDS=20
LLM_ENABLE_PII=false
LLM_PII_SCRUB_STRICT=false
LLM_MAX_CALLS_TENANT_DAILY=10000
LLM_MAX_CALLS_USER_DAILY=2000
DEBUG_LLM=0
LLM_DEBUG_REDACT_PII=1

# Datos fiscales / Facturae
SII_TAX_ID=ES00000000A
SII_NAME="CERTIVA DEMO SL"
FACTURAE_TAX_ID=ES00000000A
FACTURAE_NAME="CERTIVA DEMO SL"
FACTURAE_ADDRESS="C/ Principal 123, Madrid"
FACTURAE_POSTAL_CODE=28001
FACTURAE_COUNTRY_CODE=ESP

# Ingesta IMAP / SFTP (dejar vac√≠os para modo stub)
IMAP_HOST=
IMAP_USER=
IMAP_PASSWORD=
IMAP_MAILBOX=INBOX
SFTP_HOST=
SFTP_USER=
SFTP_PASSWORD=
SFTP_REMOTE_PATH=/

# Azure Form Recognizer
AZURE_FORMREC_ENDPOINT=
AZURE_FORMREC_KEY=
AZURE_FORMREC_MODEL_ID=prebuilt-invoice
AZURE_MAX_RPS=0.8
AZURE_MAX_INFLIGHT=1
AZURE_OCR_MAX_RPS=0.8
AZURE_OCR_MAX_CONCURRENCY=1
AZURE_OCR_RETRY_TOTAL=4
AZURE_OCR_RETRY_BACKOFF=1.0
AZURE_OCR_RETRY_MAX_SLEEP=45
AZURE_OCR_READ_TIMEOUT_SEC=120
AZURE_OCR_CACHE_DIR=OUT/ocr_cache
AZURE_OCR_ENABLE_CACHE=1

# Google Document AI (optional)
GOOGLE_APPLICATION_CREDENTIALS=
GCP_PROJECT_ID=
GCP_LOCATION=
GCP_PROCESSOR_ID=

# Confidence thresholds
MIN_CONF_OCR=0.90
MIN_CONF_ENTRY=0.85
CONFIDENCE_MIN_OK=0.80

# OpenAI / Codex (opcional)
LLM_PROVIDER_TYPE=dummy
LLM_STRATEGY=mini_only
OPENAI_API_KEY=
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-5.1-codex-mini
OPENAI_MODEL_MINI=gpt-5.1-codex-mini
OPENAI_MODEL_PREMIUM=gpt-5.1-codex
LLM_PREMIUM_THRESHOLD_GROSS=1000
OCR_BREAKER_THRESHOLD=3
LLM_BREAKER_THRESHOLD=3
OPENAI_MINI_IN_PER_MTOK=0.20
OPENAI_MINI_OUT_PER_MTOK=0.80
OPENAI_PREMIUM_IN_PER_MTOK=1.00
OPENAI_PREMIUM_OUT_PER_MTOK=4.00

# Watcher / pipeline
WATCH_BATCH_SIZE=50
WATCH_BATCH_TIMEOUT=300
WATCH_GLOB=*.pdf
PIPELINE_CONCURRENCY=1
LLM_COST_ALERT_DAILY_EUR=50
OUT_RETENTION_DAYS=30
ALERT_WEBHOOK_URL=
ALERT_WEBHOOK_FORMAT=slack   # slack|teams|raw
